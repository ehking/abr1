# Farsi Motion Studio โ Full Flask UI + DB

ุงู ูพุฑูฺู ฺฉ ูุณุฎูโ ฺฉุงููโุชุฑ ุงุฒ UI ุจุฑุง ุณุงุฎุช ููุฒฺฉโูุฏููุง
Kinetic Typography ูุงุฑุณ ุงุณุช ฺฉู ุฏุงุฑุง ุงูฺฉุงูุงุช ุฒุฑ ุงุณุช:

- **Projects (ูพุฑูฺูโูุง)**:
  - ูุฑ ูพุฑูฺู ุดุงูู ฺฉ ูุงู ุตูุช + ฺฉ ูุฏู ุฎุงู ุงุณุช.
  - ุงุฒ ุทุฑู ูุฑู UI ุณุงุฎุชู ูโุดูุฏ.
- **Jobs (ุฌุงุจโูุง)**:
  - ุจุฑุง ูุฑ ูพุฑูฺู ูโุชูุงู ฺูุฏู ุฌุงุจ ุฑูุฏุฑ ุณุงุฎุช.
  - ุฌุงุจโูุง ุฏุฑ ุตู ูุฑุงุฑ ูโฺฏุฑูุฏ ู ุฏุฑ ฺฉ Thread ูพุณโุฒููู ุจู ุชุฑุชุจ ุงุฌุฑุง ูโุดููุฏ.
  - ุจุฑุง ูุฑ ุฌุงุจ ูุถุนุช (queued/running/done/error)ุ ุฏุฑุตุฏ ูพุดุฑูุช ู ูพุบุงู ูุฑุญูู ููุงุด ุฏุงุฏู ูโุดูุฏ.
- **Media (ูุฏุงูุง)**:
  - ูุฑ ุฎุฑูุฌ ูุฏู ฺฉู Pipeline ุชููุฏ ูโฺฉูุฏ ุฏุฑ ุฌุฏูู Media ุซุจุช ูโุดูุฏ.
  - ุงุฒ ุทุฑู ููู "ูุฏุงูุง" ูุงุจู ูุดุงูุฏู/ุฏุงูููุฏ ุงุณุช.

## ุณุงุฎุชุงุฑ ููู

- `app.py`
  - Flask app
  - ูุณุฑูุง:
    - `/projects` โ ูุณุช + ุณุงุฎุช ูพุฑูฺู
    - `/projects/<id>` โ ุฌุฒุฆุงุช ูพุฑูฺู + ุฌุงุจโูุง + ูุฏุงูุง
    - `/jobs` โ ูุณุช ุชูุงู ุฌุงุจโูุง
    - `/jobs/<id>` โ ูุถุนุช ฺฉ ุฌุงุจ
    - `/media` โ ูุณุช ูุฏุงูุง
    - `/media/file/<id>` โ ููุงุด ูุงู ูุฏุง
  - Worker ูพุณโุฒููู ุจุฑุง ูพุฑุฏุงุฒุด ุฌุงุจโูุง

- `models.py`
  - ุชุนุฑู ูุฏูโูุง ุจุง SQLAlchemy:
    - `Project`
    - `Job`
    - `Media`
  - ุฏุชุงุจุณ SQLite (`app.db`) ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ูโุดูุฏ.

- `motion_pipeline.py`
  - ุงุฌุฑุง Pipeline:
    1. ฺฉุด ูุชู ุจุง Whisper (`transcribe.py`)
    2. ฺฉุด ุถุฑุจโูุง ุจุง Librosa (`beat_analysis.py`)
    3. ุฑูุฏุฑ Manim (`motion.py`, Scene: `FarsiKinetic`)
    4. Overlay ุฑู ูุฏู ุงุตู ุจุง ffmpeg

- `transcribe.py`
  - ุชุจุฏู ูุงู ุตูุช ุจู segments ุจุง Whisper.

- `beat_analysis.py`
  - ุชุดุฎุต ุถุฑุจ ุขููฺฏ ุจุง Librosa.

- `motion.py`
  - ุตุญููโ Manim ุจุง:
    - ูุชู ูุงุฑุณ ฺฉุงูู ุฌููู
    - ุงุณุชุงู ุชุงูพูฺฏุฑุงู (ุงุณุชุฑูฺฉ + ุณุงู)
    - Pulse ุฑู Beat
    - Border Glow ุฏูุฑ ุตูุญู

- `templates/`
  - `base.html` โ ุงุณฺฉูุช ฺฉู + ููููุง (ูพุฑูฺูโูุง / ุฌุงุจโูุง / ูุฏุงูุง)
  - `projects.html`, `project_detail.html`
  - `jobs.html`, `job_detail.html`
  - `media.html`

- ูพูุดูโูุง:
  - `uploads/` โ ูุงูโูุง ุขูพููุฏ
  - `outputs/` โ ุฎุฑูุฌโูุง ูุฏู
  - `cache/` โ ฺฉุด ูุชู ู ุถุฑุจ
  - `media/` โ ุจุฑุง ุฎุฑูุฌโูุง Manim

## ูุตุจ

ุฏุฑ ูุญุท ฺฉู Manim ู ุณุงุฑ ูุงุจุณุชฺฏโูุง ุฑุง ุฏุงุฑุฏ:

```bash
pip install flask sqlalchemy
# ู ูุจูุงู:
# pip install manim openai-whisper torch librosa
# ู ffmpeg ุจุงุฏ ุฑู ุณุณุชู ูุตุจ ุจุงุดุฏ.
```

## ุงุฌุฑุง

```bash
python app.py
```

ุณูพุณ ุฏุฑ ูุฑูุฑฺฏุฑ ุจู ุขุฏุฑุณ ุฒุฑ ุจุฑูุฏ:

```text
http://localhost:5000
```

## ูฺฉุงุช ูุงุจู ุชูุธู

- ุฏุฑ `motion.py` ููุฏุงุฑ `FARSI_FONT` ุฑุง ุจู ูุงู ูููุช ูุงุฑุณ ุฏูุฎูุงู ุฎูุฏุชุงู ุชุบุฑ ุฏูุฏ.
- ุฏุฑ `motion_pipeline.py`ุ ูุฒู ูุฑุญููโูุง (ุฏุฑุตุฏ ูพุดุฑูุช) ู ฺฉูุช ุฎุฑูุฌ Manim (`quality="h"`) ูุงุจู ุชุบุฑ ุงุณุช.
- ุฏุฑ `models.py` ูโุชูุงูุฏ ุณุงุฎุชุงุฑ ุฌุฏุงูู ุฑุง ฺฏุณุชุฑุด ุฏูุฏ (ูุซูุงู ุชฺฏโูุงุ ุชูุถุญุงุช ูพุฑูฺูุ ฺฉุงุฑุจุฑุงู ู ...).

ุงู ูุณุฎู ุจู ุตูุฑุช ุขฺฏุงูุงูู ุณุงุฏู ู ูุงุถุญ ููุดุชู ุดุฏู ุชุง ุจุชูุงูุฏ ุขู ุฑุง ุจู ุฑุงุญุช Mod ฺฉูุฏ ู ุจุง ูุงุฒูุง ุฎูุฏุชุงู ููุงููฺฏ ฺฉูุฏ. ูููู ุจุงุดุฏ ๐ฌ๐ฅ
